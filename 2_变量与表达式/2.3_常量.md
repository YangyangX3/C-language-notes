---
title: 常量
tags:
  - C语言
  - 常量
  - const
  - 变量
  - 字面量
---

# 2.3 常量

在程序中，除了值可以变化的变量外，还有值固定不变的量，称为常量。

## 字面常量 (Literal Constants)[^1]

> 💡 **tips**： [[字面量、表达式与内存的关系（深入浅出版）]]。

直接写在代码中的固定值就是字面常量。

-   **整数常量**: 如 `0`, `100`, `-5`。
-   **浮点数常量**: 如 `3.14`, `100.0`, `-2.5`。
-   **字符常量**: 用单引号括起来的单个字符，如 `'A'`, `'a'`, `'0'`, `' '` (空格)。
-   **字符串常量**: 用双引号括起来的字符序列，如 `"Hello, World!"`, `"price"`, `""` (空字符串)。

```c
int price = 0;         // 0 是整数常量
double pi = 3.14;      // 3.14 是浮点数常量
char grade = 'A';      // 'A' 是字符常量
printf("Hello\n");     // "Hello\n" 是字符串常量
amount = price + 100;  // 100 是整数常量
```

## 符号常量 (`const` 定义)[^2]

有时我们希望给一个常量值起一个有意义的名字，方便在代码中多处使用和维护。可以使用 `const` 关键字来定义符号常量。

-   **定义方式**: 在定义变量的语法基础上，在类型名前加上 `const` 关键字。
    ```c
    const int AMOUNT = 100; // 定义一个名为 AMOUNT 的整型常量，值为 100
    const double PI = 3.14159; // 定义一个名为 PI 的双精度浮点常量
    ```
-   **特点**:
    -   **必须初始化**: 使用 `const` 定义的常量必须在定义时进行初始化。
    -   **值不能改变**: 一旦初始化后，其值在程序的后续部分不能再被修改（不能出现在赋值号 `=` 的左边）。
    ```c
    const int MAX_VALUE = 100;
    // MAX_VALUE = 200; // 编译错误！不能给 const 常量赋值
    ```
-   **优点**:
    -   **可读性**: 使用有意义的名字（如 `PI`）比直接使用数字（`3.14159`）更易理解。
    -   **可维护性**: 如果常量值需要修改（例如税率变化），只需修改 `const` 定义处一处即可，所有使用该常量的地方都会自动更新。
    -   **类型安全**: `const` 常量有明确的数据类型，编译器可以进行类型检查。
-   **命名约定**: 通常习惯将 `const` 常量的名字全部大写，用下划线分隔单词（如 `MAX_VALUE`），以区别于普通变量。

## 常量 vs. 变量

| 特性     | 变量 (Variable)                     | 常量 (Constant) - `const` 定义 |
| :------- | :---------------------------------- | :--------------------------- |
| **值**   | 可在程序运行期间改变               | 定义时初始化后不可改变        |
| **定义** | `类型 变量名;`                     | `const 类型 常量名 = 值;`     |
| **用途** | 存储需要变化或计算得到的数据      | 存储固定的、不变的值          |
| **示例** | `int count = 0; count++;`         | `const int SECONDS_PER_HOUR = 3600;` |

## 如何一次读取多个值[^3]

`scanf` 函数可以一次读取多个输入值，只需要在格式字符串中提供对应数量的格式说明符，并在后面提供对应数量的带 `&` 的变量地址。

-   **示例**: 读取两个整数
    ```c
    int a, b;
    printf("请输入两个整数 (用空格隔开): ");
    scanf("%d %d", &a, &b);// 格式字符串中的空格可以匹配输入中的任意空白符（空格、Tab、换行）
    printf("第一个数是: %d, 第二个数是: %d\n", a, b);
    ```

	  用户输入时可以用空格、Tab 键或回车键来分隔两个数字。例如，可以输入 `10 20` 然后回车，也可以输入 `10` 回车再输入 `20` 回车。

-   **读取小时和分钟**: （来自 `2.2表达式 - 表达式运算符和算子` 字幕的示例）
    ```c
    int hour1, minute1;
    int hour2, minute2;

    printf("请输入第一个时间 (小时 分钟): ");
    scanf("%d %d", &hour1, &minute1);
    printf("请输入第二个时间 (小时 分钟): ");
    scanf("%d %d", &hour2, &minute2);

    printf("第一个时间: %d:%d\n", hour1, minute1);
    printf("第二个时间: %d:%d\n", hour2, minute2);
    ``` 

[^1]: 字面量是“不可变的直接值”，而变量和命名常量（`const`）则是通过名称引用一段内存位置，可以被赋值或在声明时指定后保持不变

[^2]: （`const`）修饰的是变量不是字面量

[^3]: - **在遇到格式字符串中的空白时**，`scanf` 会跳过输入流中从当前位置起的任意数量的空白字符，直到下一个非空白字符为止，再继续按照后续的转换说明符去匹配。
	    
	- **对于整数转换说明符 `%d` 本身**，在读取整数前也会自动跳过任何空白
